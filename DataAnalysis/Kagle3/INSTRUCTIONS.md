# Инструкция по использованию модели QA

## Быстрый старт

1. **Подготовка токена:**
   - Создайте файл `authGigaChat.txt` в корневой директории проекта
   - Вставьте в него токен GigaChat API (одна строка, без пробелов)

2. **Проверка файлов данных:**
   - Убедитесь, что файлы находятся по путям:
     - `/Users/aleksey/Downloads/hw-3-questions-and-answering/train.csv`
     - `/Users/aleksey/Downloads/hw-3-questions-and-answering/test.csv`

3. **Запуск:**
   ```bash
   python create_submit.py
   ```

4. **Результат:**
   - Файл `submit.csv` будет создан в текущей директории
   - Формат: `id,prediction`

## Альтернативные способы запуска

### Вариант 1: Только тестовый набор (рекомендуется)
```bash
python run_predictions.py
```

### Вариант 2: С проверкой на обучающем наборе
```bash
python qa_model.py
```

## Особенности решения

- ✅ Few-shot learning с примерами из обучающего набора
- ✅ Использование категорий для улучшения предсказаний
- ✅ Надежное извлечение ответов из текста модели
- ✅ Автоматическая замена неудачных предсказаний на основе статистики
- ✅ Обработка ошибок с retry механизмом
- ✅ Управление нагрузкой на API (батчи и задержки)

## Ожидаемая точность

При использовании улучшенного промпта с few-shot learning ожидается **accuracy > 0.85** на тестовом наборе.

## Устранение проблем

### Ошибка "файл не найден"
- Проверьте пути к файлам в скрипте
- Убедитесь, что файлы существуют

### Ошибка API
- Проверьте токен в `authGigaChat.txt`
- Убедитесь, что у вас есть доступ к GigaChat API
- Проверьте интернет-соединение

### Низкая точность
- Увеличьте количество few-shot примеров (параметр `n_examples` в функции `create_few_shot_examples`)
- Увеличьте `max_retries` для более надежной обработки
- Проверьте качество данных

## Время выполнения

- Для тестового набора из ~750 вопросов: примерно 30-60 минут
- Зависит от скорости API и настроек задержек

